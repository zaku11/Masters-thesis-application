# Master's thesis
An application for my master's thesis

# Dependencies
This project contains files generated by ANLTR - a tool for creating parsers. Based on grammar provided by the authors of ANTLR for Java. All of the files in the `/parser/` were generated by this, I've edited `Parser.py` and `JavaParserVisitor`.

# Installation
Just run `pip3 install requirements.txt` and everything _should_ work.

# Overview/usage
The app consists of few parts:

- `GithubFetcher - located in src/GithubFetcher.py` - Fetches repositories from Github in a matter described in my master's degree. In short, I'm trying to get a "random" sample from all repositories written in Java with >=35 stars.
Usage: Not really used on its own, it's part of the Behemoth module

- `Parser - located in src/parser/Parser.py` - Parses given Java file. Tries to gather all of interesting information(for calculating class cohesion) about classes in the file. 
Usage: You can run `python3 Parser.py Main.java` to parse a singular Java file and see what kind of relations in classes will be found

- `Calculator - located in src/metrics/` - This is not a module per se, this is just a set of metrics which can be calculated. They are calculated by `Statistics` module.

- `Statistics - located in src/Statistics.py` - calculating basic statistics. No rocket science here.

- `Presenter - located in src/Presenter.py` - Presenting module, it collects all of the data from all of the repositories and groups them together. Has two flags - `--interesting-correlations` for correlations and graphs regarding repository properties and metric values and `--metric-correlations` for correlations and graphs regarding metrics themselves

# Behemoth
Fetcher and Parser make up for `Behemoth.py`. You run it with `python3 Behemoth.py`
Usable flags:
- `--full` - if you use this flag `Behemoth` will already calculate statistics for all of the wanted metrics. If not, those will be calculated later by `Presenter`
- `--online` - by default `Behemoth` will look through all repos located in `/repos/` and process them. If you use this flag it will automatically start pulling repositories from the API, using `GithubFetcher`, processing more and more repos.

# How I did the experiment
My flow of the experiment went like this:
1. I've run `python3 Behemoth.py --full --online`, looking at logs and waiting for an appropriate sample size. This populated the `scores` directory which is now empty. Collected data for my experiment is kept in `scores.zip` in the repository for size reasons.
2. I've run `python3 Presenter.py --interesting-correlations --metric-correlations` to get all of the correlations and graphs
After that, I've analyzed the answers and put them into my thesis.

# Tests
There are a few sets of tests located in `src/tests`. To run them all go into that directory and run `./testAll.sh` - the output should be self-explanatory 